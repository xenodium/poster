package source

import (
	"fmt"
	"io/ioutil"
	"os"
	"path/filepath"
	"poster/strings"
)

type Iterator struct {
	filePaths []string
	pos       int

	textIter *strings.Iterator
}

func NewIterator(filePaths []string) *Iterator {
	it := Iterator{
		filePaths: filePaths,
		pos:       -1,
	}
	return &it
}

func (it *Iterator) Count() int {
	return len(it.filePaths)
}

func (it *Iterator) Reset() {
	it.pos = -1
	it.textIter = nil
}

func (it *Iterator) Done() bool {
	return it.pos+1 >= it.Count() && it.textIter != nil && it.textIter.Done()
}

func (it *Iterator) Next() {
	if it.Done() {
		return
	}
	it.pos++
	it.textIter = iterForFilePath(it.filePaths[it.pos])
}

func (it *Iterator) Read() *string {
	if it.Done() {
		return nil
	}
	if it.textIter == nil {
		it.Next()
	}
	if it.textIter.Done() {
		it.Next()
	}
	return it.textIter.Read()
}

func iterForFilePath(filePath string) *strings.Iterator {
	textBytes, err := ioutil.ReadFile(filePath)
	if err != nil {
		panic(fmt.Sprintf("could not read file: %v, %v", filePath, err))
	}
	return strings.NewIterator(string(textBytes))
}

func ListFiles(rootPath string) []string {
	var filePaths = []string{}
	err := filepath.Walk(rootPath, func(path string, info os.FileInfo, err error) error {
		if info.IsDir() {
			return nil
		}

		if _, ok := knownExtensions[filepath.Ext(path)]; !ok {
			return nil
		}

		filePaths = append(filePaths, path)
		return nil
	})

	if err != nil {
		panic(fmt.Sprintf("Can't list sources: %v", err))
	}

	if len(filePaths) == 0 {
		panic(fmt.Sprintf("No files found in %v", rootPath))
	}

	return filePaths
}

var knownExtensions = map[string]struct{}{
	".1":                   struct{}{},
	".1in":                 struct{}{},
	".1m":                  struct{}{},
	".1x":                  struct{}{},
	".2":                   struct{}{},
	".3":                   struct{}{},
	".3in":                 struct{}{},
	".3m":                  struct{}{},
	".3qt":                 struct{}{},
	".3x":                  struct{}{},
	".4":                   struct{}{},
	".4th":                 struct{}{},
	".5":                   struct{}{},
	".6":                   struct{}{},
	".6pl":                 struct{}{},
	".6pm":                 struct{}{},
	".7":                   struct{}{},
	".8":                   struct{}{},
	".9":                   struct{}{},
	".E":                   struct{}{},
	".ML":                  struct{}{},
	"._coffee":             struct{}{},
	"._js":                 struct{}{},
	"._ls":                 struct{}{},
	".a51":                 struct{}{},
	".ada":                 struct{}{},
	".adb":                 struct{}{},
	".ado":                 struct{}{},
	".adoc":                struct{}{},
	".adp":                 struct{}{},
	".ads":                 struct{}{},
	".agda":                struct{}{},
	".ahk":                 struct{}{},
	".ahkl":                struct{}{},
	".aj":                  struct{}{},
	".al":                  struct{}{},
	".als":                 struct{}{},
	".ampl":                struct{}{},
	".anim":                struct{}{},
	".ant":                 struct{}{},
	".apacheconf":          struct{}{},
	".apib":                struct{}{},
	".apl":                 struct{}{},
	".applescript":         struct{}{},
	".arc":                 struct{}{},
	".arpa":                struct{}{},
	".as":                  struct{}{},
	".asax":                struct{}{},
	".asc":                 struct{}{},
	".asciidoc":            struct{}{},
	".ascx":                struct{}{},
	".asd":                 struct{}{},
	".ash":                 struct{}{},
	".ashx":                struct{}{},
	".asm":                 struct{}{},
	".asmx":                struct{}{},
	".asp":                 struct{}{},
	".aspx":                struct{}{},
	".asset":               struct{}{},
	".au3":                 struct{}{},
	".aug":                 struct{}{},
	".auk":                 struct{}{},
	".aux":                 struct{}{},
	".aw":                  struct{}{},
	".awk":                 struct{}{},
	".axd":                 struct{}{},
	".axi":                 struct{}{},
	".axml":                struct{}{},
	".axs":                 struct{}{},
	".b":                   struct{}{},
	".bas":                 struct{}{},
	".bash":                struct{}{},
	".bat":                 struct{}{},
	".bats":                struct{}{},
	".bb":                  struct{}{},
	".bbx":                 struct{}{},
	".befunge":             struct{}{},
	".bf":                  struct{}{},
	".bib":                 struct{}{},
	".bison":               struct{}{},
	".bmx":                 struct{}{},
	".bones":               struct{}{},
	".boo":                 struct{}{},
	".boot":                struct{}{},
	".brd":                 struct{}{},
	".bro":                 struct{}{},
	".brs":                 struct{}{},
	".bsv":                 struct{}{},
	".builder":             struct{}{},
	".bzl":                 struct{}{},
	".c":                   struct{}{},
	".c++":                 struct{}{},
	".c++-objdump":         struct{}{},
	".c++objdump":          struct{}{},
	".c-objdump":           struct{}{},
	".cake":                struct{}{},
	".capnp":               struct{}{},
	".cats":                struct{}{},
	".cbl":                 struct{}{},
	".cbx":                 struct{}{},
	".cc":                  struct{}{},
	".ccp":                 struct{}{},
	".ccxml":               struct{}{},
	".cdf":                 struct{}{},
	".ceylon":              struct{}{},
	".cfc":                 struct{}{},
	".cfg":                 struct{}{},
	".cfm":                 struct{}{},
	".cfml":                struct{}{},
	".cgi":                 struct{}{},
	".ch":                  struct{}{},
	".chpl":                struct{}{},
	".chs":                 struct{}{},
	".cirru":               struct{}{},
	".cjsx":                struct{}{},
	".ck":                  struct{}{},
	".cl":                  struct{}{},
	".cl2":                 struct{}{},
	".click":               struct{}{},
	".clixml":              struct{}{},
	".clj":                 struct{}{},
	".cljc":                struct{}{},
	".cljs":                struct{}{},
	".cljscm":              struct{}{},
	".cljx":                struct{}{},
	".clp":                 struct{}{},
	".cls":                 struct{}{},
	".clw":                 struct{}{},
	".cmake":               struct{}{},
	".cmd":                 struct{}{},
	".cob":                 struct{}{},
	".cobol":               struct{}{},
	".coffee":              struct{}{},
	".com":                 struct{}{},
	".command":             struct{}{},
	".config":              struct{}{},
	".coq":                 struct{}{},
	".cp":                  struct{}{},
	".cpp":                 struct{}{},
	".cpp-objdump":         struct{}{},
	".cppobjdump":          struct{}{},
	".cproject":            struct{}{},
	".cps":                 struct{}{},
	".cpy":                 struct{}{},
	".cql":                 struct{}{},
	".cr":                  struct{}{},
	".creole":              struct{}{},
	".cs":                  struct{}{},
	".csh":                 struct{}{},
	".cshtml":              struct{}{},
	".csl":                 struct{}{},
	".cson":                struct{}{},
	".csproj":              struct{}{},
	".css":                 struct{}{},
	".csv":                 struct{}{},
	".csx":                 struct{}{},
	".ct":                  struct{}{},
	".ctp":                 struct{}{},
	".cu":                  struct{}{},
	".cuh":                 struct{}{},
	".cw":                  struct{}{},
	".cxx":                 struct{}{},
	".cxx-objdump":         struct{}{},
	".cy":                  struct{}{},
	".d":                   struct{}{},
	".d-objdump":           struct{}{},
	".darcspatch":          struct{}{},
	".dart":                struct{}{},
	".dats":                struct{}{},
	".db2":                 struct{}{},
	".dcl":                 struct{}{},
	".ddl":                 struct{}{},
	".decls":               struct{}{},
	".deface":              struct{}{},
	".desktop":             struct{}{},
	".dfm":                 struct{}{},
	".di":                  struct{}{},
	".diff":                struct{}{},
	".dist":                struct{}{},
	".dita":                struct{}{},
	".ditamap":             struct{}{},
	".ditaval":             struct{}{},
	".djs":                 struct{}{},
	".dll":                 struct{}{},
	".dlm":                 struct{}{},
	".dm":                  struct{}{},
	".do":                  struct{}{},
	".dockerfile":          struct{}{},
	".doh":                 struct{}{},
	".dot":                 struct{}{},
	".dotsettings":         struct{}{},
	".dpatch":              struct{}{},
	".dpr":                 struct{}{},
	".druby":               struct{}{},
	".dtx":                 struct{}{},
	".duby":                struct{}{},
	".dyalog":              struct{}{},
	".dyl":                 struct{}{},
	".dylan":               struct{}{},
	".e":                   struct{}{},
	".eam":                 struct{}{},
	".ebuild":              struct{}{},
	".ec":                  struct{}{},
	".ecl":                 struct{}{},
	".eclass":              struct{}{},
	".eclxml":              struct{}{},
	".edn":                 struct{}{},
	".eex":                 struct{}{},
	".eh":                  struct{}{},
	".el":                  struct{}{},
	".eliom":               struct{}{},
	".eliomi":              struct{}{},
	".elm":                 struct{}{},
	".em":                  struct{}{},
	".emacs":               struct{}{},
	".emberscript":         struct{}{},
	".epj":                 struct{}{},
	".eps":                 struct{}{},
	".erb":                 struct{}{},
	".erl":                 struct{}{},
	".es":                  struct{}{},
	".es6":                 struct{}{},
	".escript":             struct{}{},
	".ex":                  struct{}{},
	".exs":                 struct{}{},
	".f":                   struct{}{},
	".f03":                 struct{}{},
	".f08":                 struct{}{},
	".f77":                 struct{}{},
	".f90":                 struct{}{},
	".f95":                 struct{}{},
	".factor":              struct{}{},
	".fan":                 struct{}{},
	".fancypack":           struct{}{},
	".fcgi":                struct{}{},
	".feature":             struct{}{},
	".filters":             struct{}{},
	".fish":                struct{}{},
	".flex":                struct{}{},
	".flux":                struct{}{},
	".for":                 struct{}{},
	".forth":               struct{}{},
	".fp":                  struct{}{},
	".fpp":                 struct{}{},
	".fr":                  struct{}{},
	".frag":                struct{}{},
	".frg":                 struct{}{},
	".frm":                 struct{}{},
	".frt":                 struct{}{},
	".frx":                 struct{}{},
	".fs":                  struct{}{},
	".fsh":                 struct{}{},
	".fshader":             struct{}{},
	".fsi":                 struct{}{},
	".fsproj":              struct{}{},
	".fsx":                 struct{}{},
	".fth":                 struct{}{},
	".ftl":                 struct{}{},
	".fun":                 struct{}{},
	".fx":                  struct{}{},
	".fxh":                 struct{}{},
	".fxml":                struct{}{},
	".fy":                  struct{}{},
	".g":                   struct{}{},
	".g4":                  struct{}{},
	".gap":                 struct{}{},
	".gawk":                struct{}{},
	".gco":                 struct{}{},
	".gcode":               struct{}{},
	".gd":                  struct{}{},
	".gemspec":             struct{}{},
	".geo":                 struct{}{},
	".geojson":             struct{}{},
	".geom":                struct{}{},
	".gf":                  struct{}{},
	".gi":                  struct{}{},
	".glade":               struct{}{},
	".glf":                 struct{}{},
	".glsl":                struct{}{},
	".glslv":               struct{}{},
	".gml":                 struct{}{},
	".gms":                 struct{}{},
	".gnu":                 struct{}{},
	".gnuplot":             struct{}{},
	".go":                  struct{}{},
	".god":                 struct{}{},
	".golo":                struct{}{},
	".gp":                  struct{}{},
	".grace":               struct{}{},
	".gradle":              struct{}{},
	".graphql":             struct{}{},
	".groovy":              struct{}{},
	".grt":                 struct{}{},
	".grxml":               struct{}{},
	".gs":                  struct{}{},
	".gshader":             struct{}{},
	".gsp":                 struct{}{},
	".gst":                 struct{}{},
	".gsx":                 struct{}{},
	".gtpl":                struct{}{},
	".gv":                  struct{}{},
	".gvy":                 struct{}{},
	".gyp":                 struct{}{},
	".h":                   struct{}{},
	".h++":                 struct{}{},
	".haml":                struct{}{},
	".handlebars":          struct{}{},
	".hats":                struct{}{},
	".hb":                  struct{}{},
	".hbs":                 struct{}{},
	".hcl":                 struct{}{},
	".hh":                  struct{}{},
	".hic":                 struct{}{},
	".hl":                  struct{}{},
	".hlean":               struct{}{},
	".hlsl":                struct{}{},
	".hlsli":               struct{}{},
	".hpp":                 struct{}{},
	".hqf":                 struct{}{},
	".hrl":                 struct{}{},
	".hs":                  struct{}{},
	".hsc":                 struct{}{},
	".htm":                 struct{}{},
	".html":                struct{}{},
	".http":                struct{}{},
	".hx":                  struct{}{},
	".hxsl":                struct{}{},
	".hxx":                 struct{}{},
	".hy":                  struct{}{},
	".i7x":                 struct{}{},
	".iced":                struct{}{},
	".icl":                 struct{}{},
	".idc":                 struct{}{},
	".idr":                 struct{}{},
	".ihlp":                struct{}{},
	".ijs":                 struct{}{},
	".ik":                  struct{}{},
	".ily":                 struct{}{},
	".iml":                 struct{}{},
	".in":                  struct{}{},
	".inc":                 struct{}{},
	".ini":                 struct{}{},
	".inl":                 struct{}{},
	".ino":                 struct{}{},
	".ins":                 struct{}{},
	".intr":                struct{}{},
	".io":                  struct{}{},
	".ipf":                 struct{}{},
	".ipp":                 struct{}{},
	".ipynb":               struct{}{},
	".irbrc":               struct{}{},
	".irclog":              struct{}{},
	".iss":                 struct{}{},
	".ivy":                 struct{}{},
	".j":                   struct{}{},
	".jade":                struct{}{},
	".jake":                struct{}{},
	".java":                struct{}{},
	".jbuilder":            struct{}{},
	".jelly":               struct{}{},
	".jflex":               struct{}{},
	".jinja":               struct{}{},
	".jl":                  struct{}{},
	".jq":                  struct{}{},
	".js":                  struct{}{},
	".jsb":                 struct{}{},
	".jscad":               struct{}{},
	".jsfl":                struct{}{},
	".jsm":                 struct{}{},
	".json":                struct{}{},
	".json5":               struct{}{},
	".jsonld":              struct{}{},
	".jsp":                 struct{}{},
	".jsproj":              struct{}{},
	".jss":                 struct{}{},
	".jsx":                 struct{}{},
	".kicad_pcb":           struct{}{},
	".kid":                 struct{}{},
	".kit":                 struct{}{},
	".kml":                 struct{}{},
	".krl":                 struct{}{},
	".ksh":                 struct{}{},
	".kt":                  struct{}{},
	".ktm":                 struct{}{},
	".kts":                 struct{}{},
	".l":                   struct{}{},
	".lagda":               struct{}{},
	".las":                 struct{}{},
	".lasso":               struct{}{},
	".lasso8":              struct{}{},
	".lasso9":              struct{}{},
	".latte":               struct{}{},
	".launch":              struct{}{},
	".lbx":                 struct{}{},
	".ld":                  struct{}{},
	".ldml":                struct{}{},
	".lds":                 struct{}{},
	".lean":                struct{}{},
	".less":                struct{}{},
	".lex":                 struct{}{},
	".lfe":                 struct{}{},
	".lgt":                 struct{}{},
	".lhs":                 struct{}{},
	".lid":                 struct{}{},
	".lidr":                struct{}{},
	".liquid":              struct{}{},
	".lisp":                struct{}{},
	".litcoffee":           struct{}{},
	".ll":                  struct{}{},
	".lmi":                 struct{}{},
	".lock":                struct{}{},
	".logtalk":             struct{}{},
	".lol":                 struct{}{},
	".lookml":              struct{}{},
	".lpr":                 struct{}{},
	".ls":                  struct{}{},
	".lsl":                 struct{}{},
	".lslp":                struct{}{},
	".lsp":                 struct{}{},
	".ltx":                 struct{}{},
	".lua":                 struct{}{},
	".lvproj":              struct{}{},
	".ly":                  struct{}{},
	".m":                   struct{}{},
	".m4":                  struct{}{},
	".ma":                  struct{}{},
	".mak":                 struct{}{},
	".mako":                struct{}{},
	".man":                 struct{}{},
	".mao":                 struct{}{},
	".markdown":            struct{}{},
	".mask":                struct{}{},
	".mat":                 struct{}{},
	".mata":                struct{}{},
	".matah":               struct{}{},
	".mathematica":         struct{}{},
	".matlab":              struct{}{},
	".mawk":                struct{}{},
	".maxhelp":             struct{}{},
	".maxpat":              struct{}{},
	".maxproj":             struct{}{},
	".mcr":                 struct{}{},
	".md":                  struct{}{},
	".mdpolicy":            struct{}{},
	".me":                  struct{}{},
	".mediawiki":           struct{}{},
	".meta":                struct{}{},
	".metadata":            struct{}{},
	".metal":               struct{}{},
	".minid":               struct{}{},
	".mir":                 struct{}{},
	".mirah":               struct{}{},
	".mk":                  struct{}{},
	".mkd":                 struct{}{},
	".mkdn":                struct{}{},
	".mkdown":              struct{}{},
	".mkfile":              struct{}{},
	".mkii":                struct{}{},
	".mkiv":                struct{}{},
	".mkvi":                struct{}{},
	".ml":                  struct{}{},
	".ml4":                 struct{}{},
	".mli":                 struct{}{},
	".mll":                 struct{}{},
	".mly":                 struct{}{},
	".mm":                  struct{}{},
	".mmk":                 struct{}{},
	".mms":                 struct{}{},
	".mo":                  struct{}{},
	".mod":                 struct{}{},
	".monkey":              struct{}{},
	".moo":                 struct{}{},
	".moon":                struct{}{},
	".ms":                  struct{}{},
	".mspec":               struct{}{},
	".mss":                 struct{}{},
	".mt":                  struct{}{},
	".mtml":                struct{}{},
	".mu":                  struct{}{},
	".muf":                 struct{}{},
	".mumps":               struct{}{},
	".mustache":            struct{}{},
	".mxml":                struct{}{},
	".mxt":                 struct{}{},
	".myt":                 struct{}{},
	".n":                   struct{}{},
	".nasm":                struct{}{},
	".nawk":                struct{}{},
	".nb":                  struct{}{},
	".nbp":                 struct{}{},
	".nc":                  struct{}{},
	".ncl":                 struct{}{},
	".nginxconf":           struct{}{},
	".ni":                  struct{}{},
	".nim":                 struct{}{},
	".nimrod":              struct{}{},
	".ninja":               struct{}{},
	".nit":                 struct{}{},
	".nix":                 struct{}{},
	".njs":                 struct{}{},
	".nl":                  struct{}{},
	".nlogo":               struct{}{},
	".no":                  struct{}{},
	".nproj":               struct{}{},
	".nqp":                 struct{}{},
	".nse":                 struct{}{},
	".nsh":                 struct{}{},
	".nsi":                 struct{}{},
	".nu":                  struct{}{},
	".numpy":               struct{}{},
	".numpyw":              struct{}{},
	".numsc":               struct{}{},
	".nuspec":              struct{}{},
	".nut":                 struct{}{},
	".ny":                  struct{}{},
	".objdump":             struct{}{},
	".odd":                 struct{}{},
	".omgrofl":             struct{}{},
	".ooc":                 struct{}{},
	".opa":                 struct{}{},
	".opal":                struct{}{},
	".opencl":              struct{}{},
	".org":                 struct{}{},
	".osm":                 struct{}{},
	".owl":                 struct{}{},
	".ox":                  struct{}{},
	".oxh":                 struct{}{},
	".oxo":                 struct{}{},
	".oxygene":             struct{}{},
	".oz":                  struct{}{},
	".p":                   struct{}{},
	".p6":                  struct{}{},
	".p6l":                 struct{}{},
	".p6m":                 struct{}{},
	".pac":                 struct{}{},
	".pan":                 struct{}{},
	".parrot":              struct{}{},
	".pas":                 struct{}{},
	".pasm":                struct{}{},
	".pat":                 struct{}{},
	".patch":               struct{}{},
	".pb":                  struct{}{},
	".pbi":                 struct{}{},
	".pck":                 struct{}{},
	".pd":                  struct{}{},
	".pd_lua":              struct{}{},
	".pde":                 struct{}{},
	".perl":                struct{}{},
	".ph":                  struct{}{},
	".php":                 struct{}{},
	".php3":                struct{}{},
	".php4":                struct{}{},
	".php5":                struct{}{},
	".phps":                struct{}{},
	".phpt":                struct{}{},
	".phtml":               struct{}{},
	".pig":                 struct{}{},
	".pike":                struct{}{},
	".pir":                 struct{}{},
	".pkb":                 struct{}{},
	".pkl":                 struct{}{},
	".pks":                 struct{}{},
	".pl":                  struct{}{},
	".pl6":                 struct{}{},
	".plb":                 struct{}{},
	".plist":               struct{}{},
	".plot":                struct{}{},
	".pls":                 struct{}{},
	".plsql":               struct{}{},
	".plt":                 struct{}{},
	".pluginspec":          struct{}{},
	".plx":                 struct{}{},
	".pm":                  struct{}{},
	".pm6":                 struct{}{},
	".pmod":                struct{}{},
	".po":                  struct{}{},
	".pod":                 struct{}{},
	".podsl":               struct{}{},
	".podspec":             struct{}{},
	".pogo":                struct{}{},
	".pony":                struct{}{},
	".pot":                 struct{}{},
	".pov":                 struct{}{},
	".pp":                  struct{}{},
	".prc":                 struct{}{},
	".prefab":              struct{}{},
	".prefs":               struct{}{},
	".prg":                 struct{}{},
	".pri":                 struct{}{},
	".pro":                 struct{}{},
	".prolog":              struct{}{},
	".properties":          struct{}{},
	".props":               struct{}{},
	".proto":               struct{}{},
	".prw":                 struct{}{},
	".ps":                  struct{}{},
	".ps1":                 struct{}{},
	".ps1xml":              struct{}{},
	".psc":                 struct{}{},
	".psc1":                struct{}{},
	".psd1":                struct{}{},
	".psgi":                struct{}{},
	".psm1":                struct{}{},
	".pt":                  struct{}{},
	".pub":                 struct{}{},
	".purs":                struct{}{},
	".pwn":                 struct{}{},
	".pxd":                 struct{}{},
	".pxi":                 struct{}{},
	".py":                  struct{}{},
	".pyde":                struct{}{},
	".pyp":                 struct{}{},
	".pyt":                 struct{}{},
	".pytb":                struct{}{},
	".pyw":                 struct{}{},
	".pyx":                 struct{}{},
	".qbs":                 struct{}{},
	".qml":                 struct{}{},
	".r":                   struct{}{},
	".r2":                  struct{}{},
	".r3":                  struct{}{},
	".rabl":                struct{}{},
	".rake":                struct{}{},
	".raml":                struct{}{},
	".raw":                 struct{}{},
	".rb":                  struct{}{},
	".rbbas":               struct{}{},
	".rbfrm":               struct{}{},
	".rbmnu":               struct{}{},
	".rbres":               struct{}{},
	".rbtbar":              struct{}{},
	".rbuild":              struct{}{},
	".rbuistate":           struct{}{},
	".rbw":                 struct{}{},
	".rbx":                 struct{}{},
	".rbxs":                struct{}{},
	".rd":                  struct{}{},
	".rdf":                 struct{}{},
	".rdoc":                struct{}{},
	".reb":                 struct{}{},
	".rebol":               struct{}{},
	".red":                 struct{}{},
	".reds":                struct{}{},
	".reek":                struct{}{},
	".rest":                struct{}{},
	".rg":                  struct{}{},
	".rhtml":               struct{}{},
	".rkt":                 struct{}{},
	".rktd":                struct{}{},
	".rktl":                struct{}{},
	".rl":                  struct{}{},
	".rmd":                 struct{}{},
	".rno":                 struct{}{},
	".robot":               struct{}{},
	".roff":                struct{}{},
	".ron":                 struct{}{},
	".rpy":                 struct{}{},
	".rq":                  struct{}{},
	".rs":                  struct{}{},
	".rsh":                 struct{}{},
	".rss":                 struct{}{},
	".rst":                 struct{}{},
	".rsx":                 struct{}{},
	".ru":                  struct{}{},
	".ruby":                struct{}{},
	".rviz":                struct{}{},
	".s":                   struct{}{},
	".sage":                struct{}{},
	".sagews":              struct{}{},
	".sas":                 struct{}{},
	".sass":                struct{}{},
	".sats":                struct{}{},
	".sbt":                 struct{}{},
	".sc":                  struct{}{},
	".scad":                struct{}{},
	".scala":               struct{}{},
	".scaml":               struct{}{},
	".scd":                 struct{}{},
	".sce":                 struct{}{},
	".sch":                 struct{}{},
	".sci":                 struct{}{},
	".scm":                 struct{}{},
	".scpt":                struct{}{},
	".scrbl":               struct{}{},
	".scss":                struct{}{},
	".scxml":               struct{}{},
	".self":                struct{}{},
	".sexp":                struct{}{},
	".sh":                  struct{}{},
	".sh-session":          struct{}{},
	".shader":              struct{}{},
	".shen":                struct{}{},
	".sig":                 struct{}{},
	".sj":                  struct{}{},
	".sjs":                 struct{}{},
	".sl":                  struct{}{},
	".sld":                 struct{}{},
	".slim":                struct{}{},
	".sls":                 struct{}{},
	".sma":                 struct{}{},
	".smali":               struct{}{},
	".sml":                 struct{}{},
	".smt":                 struct{}{},
	".smt2":                struct{}{},
	".sp":                  struct{}{},
	".sparql":              struct{}{},
	".spin":                struct{}{},
	".sps":                 struct{}{},
	".sqf":                 struct{}{},
	".sql":                 struct{}{},
	".srdf":                struct{}{},
	".ss":                  struct{}{},
	".ssjs":                struct{}{},
	".st":                  struct{}{},
	".stTheme":             struct{}{},
	".stan":                struct{}{},
	".sthlp":               struct{}{},
	".ston":                struct{}{},
	".storyboard":          struct{}{},
	".sty":                 struct{}{},
	".styl":                struct{}{},
	".sublime-build":       struct{}{},
	".sublime-commands":    struct{}{},
	".sublime-completions": struct{}{},
	".sublime-keymap":      struct{}{},
	".sublime-macro":       struct{}{},
	".sublime-menu":        struct{}{},
	".sublime-mousemap":    struct{}{},
	".sublime-project":     struct{}{},
	".sublime-settings":    struct{}{},
	".sublime-snippet":     struct{}{},
	".sublime-syntax":      struct{}{},
	".sublime-theme":       struct{}{},
	".sublime-workspace":   struct{}{},
	".sublime_metrics":     struct{}{},
	".sublime_session":     struct{}{},
	".sv":                  struct{}{},
	".svg":                 struct{}{},
	".svh":                 struct{}{},
	".swift":               struct{}{},
	".syntax":              struct{}{},
	".t":                   struct{}{},
	".tab":                 struct{}{},
	".tac":                 struct{}{},
	".targets":             struct{}{},
	".tcc":                 struct{}{},
	".tcl":                 struct{}{},
	".tcsh":                struct{}{},
	".tea":                 struct{}{},
	".tex":                 struct{}{},
	".textile":             struct{}{},
	".tf":                  struct{}{},
	".thor":                struct{}{},
	".thrift":              struct{}{},
	".thy":                 struct{}{},
	".tm":                  struct{}{},
	".tmCommand":           struct{}{},
	".tmLanguage":          struct{}{},
	".tmPreferences":       struct{}{},
	".tmSnippet":           struct{}{},
	".tmTheme":             struct{}{},
	".tml":                 struct{}{},
	".tmux":                struct{}{},
	".toc":                 struct{}{},
	".toml":                struct{}{},
	".tool":                struct{}{},
	".topojson":            struct{}{},
	".tpl":                 struct{}{},
	".tpp":                 struct{}{},
	".ts":                  struct{}{},
	".tst":                 struct{}{},
	".tsx":                 struct{}{},
	".ttl":                 struct{}{},
	".tu":                  struct{}{},
	".twig":                struct{}{},
	".txl":                 struct{}{},
	".txt":                 struct{}{},
	".uc":                  struct{}{},
	".udf":                 struct{}{},
	".ui":                  struct{}{},
	".unity":               struct{}{},
	".uno":                 struct{}{},
	".upc":                 struct{}{},
	".ur":                  struct{}{},
	".urdf":                struct{}{},
	".urs":                 struct{}{},
	".ux":                  struct{}{},
	".v":                   struct{}{},
	".vala":                struct{}{},
	".vapi":                struct{}{},
	".vark":                struct{}{},
	".vb":                  struct{}{},
	".vba":                 struct{}{},
	".vbhtml":              struct{}{},
	".vbproj":              struct{}{},
	".vbs":                 struct{}{},
	".vcl":                 struct{}{},
	".vcxproj":             struct{}{},
	".veo":                 struct{}{},
	".vert":                struct{}{},
	".vh":                  struct{}{},
	".vhd":                 struct{}{},
	".vhdl":                struct{}{},
	".vhf":                 struct{}{},
	".vhi":                 struct{}{},
	".vho":                 struct{}{},
	".vhost":               struct{}{},
	".vhs":                 struct{}{},
	".vht":                 struct{}{},
	".vhw":                 struct{}{},
	".vim":                 struct{}{},
	".viw":                 struct{}{},
	".volt":                struct{}{},
	".vrx":                 struct{}{},
	".vsh":                 struct{}{},
	".vshader":             struct{}{},
	".vssettings":          struct{}{},
	".vue":                 struct{}{},
	".vxml":                struct{}{},
	".w":                   struct{}{},
	".watchr":              struct{}{},
	".webidl":              struct{}{},
	".weechatlog":          struct{}{},
	".wiki":                struct{}{},
	".wisp":                struct{}{},
	".wl":                  struct{}{},
	".wlt":                 struct{}{},
	".wlua":                struct{}{},
	".wsdl":                struct{}{},
	".wsf":                 struct{}{},
	".wsgi":                struct{}{},
	".wxi":                 struct{}{},
	".wxl":                 struct{}{},
	".wxs":                 struct{}{},
	".x":                   struct{}{},
	".x10":                 struct{}{},
	".x3d":                 struct{}{},
	".xacro":               struct{}{},
	".xaml":                struct{}{},
	".xc":                  struct{}{},
	".xht":                 struct{}{},
	".xhtml":               struct{}{},
	".xi":                  struct{}{},
	".xib":                 struct{}{},
	".xlf":                 struct{}{},
	".xliff":               struct{}{},
	".xm":                  struct{}{},
	".xmi":                 struct{}{},
	".xml":                 struct{}{},
	".xojo_code":           struct{}{},
	".xojo_menu":           struct{}{},
	".xojo_report":         struct{}{},
	".xojo_script":         struct{}{},
	".xojo_toolbar":        struct{}{},
	".xojo_window":         struct{}{},
	".xpl":                 struct{}{},
	".xproc":               struct{}{},
	".xproj":               struct{}{},
	".xpy":                 struct{}{},
	".xq":                  struct{}{},
	".xql":                 struct{}{},
	".xqm":                 struct{}{},
	".xquery":              struct{}{},
	".xqy":                 struct{}{},
	".xrl":                 struct{}{},
	".xs":                  struct{}{},
	".xsd":                 struct{}{},
	".xsjs":                struct{}{},
	".xsjslib":             struct{}{},
	".xsl":                 struct{}{},
	".xslt":                struct{}{},
	".xsp":                 struct{}{},
	".xsp-config":          struct{}{},
	".xtend":               struct{}{},
	".xul":                 struct{}{},
	".y":                   struct{}{},
	".yacc":                struct{}{},
	".yaml":                struct{}{},
	".yaml-tmlanguage":     struct{}{},
	".yang":                struct{}{},
	".yap":                 struct{}{},
	".yml":                 struct{}{},
	".yrl":                 struct{}{},
	".yy":                  struct{}{},
	".zcml":                struct{}{},
	".zep":                 struct{}{},
	".zimpl":               struct{}{},
	".zmpl":                struct{}{},
	".zone":                struct{}{},
	".zpl":                 struct{}{},
	".zsh":                 struct{}{},
}
